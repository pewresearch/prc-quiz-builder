(()=>{"use strict";var e,t={499:(e,t,l)=>{const o=window.wp.blocks,r=window.React,n=window.prcQuizSharedComponents,a=window.wp.element,c=window.wp.blockEditor,s=window.wp.components,u=window.wp.i18n;function i({colors:e}){const{rowBackgroundColor:t,setRowBackgroundColor:l,altRowBackgroundColor:o,setAltRowBackgroundColor:n,rowTextColor:a,setRowTextColor:s,altRowTextColor:i,setAltRowTextColor:m}=e;return(0,r.createElement)(c.InspectorControls,{group:"styles"},(0,r.createElement)(c.PanelColorSettings,{__experimentalHasMultipleOrigins:!0,__experimentalIsRenderedInSidebar:!0,title:(0,u.__)("Colors"),disableCustomColors:!0,colorSettings:[{value:t.color,onChange:l,label:(0,u.__)("Row Background")},{value:a.color,onChange:s,label:(0,u.__)("Row Text")},{value:o.color,onChange:n,label:(0,u.__)("Alt Row Background")},{value:i.color,onChange:m,label:(0,u.__)("Alt Row Text")}]}))}const m=window.classnames;var d=l.n(m);const p=window.wp.data,w=window.prcIcons,g=(e,t,l=null)=>{const o=(t+1)%2==0;let r=l;null===r&&(r=Math.random()>=.5);const{rowBackgroundColor:n,altRowBackgroundColor:a,rowTextColor:s,altRowTextColor:u}=e,i=o?a:n,m=o?u:s;return d()("wp-block-prc-quiz-result-table__row",{"has-text-color":!!m.color||!!m?.class,[(0,c.getColorClassName)("color",m?.slug)]:!!m?.slug,"has-background":!!i.color||i.class,[(0,c.getColorClassName)("background-color",i?.slug)]:!!i?.slug,"is-correct":r,"is-incorrect":!r})};function C({questions:e,colors:t,isSelected:l}){const{selectBlock:o,toggleBlockHighlight:n}=(0,p.useDispatch)("core/block-editor");return void 0===e||0===e.length?(0,r.createElement)("div",null,(0,r.createElement)("p",null,"Constructing table... "),(0,r.createElement)(s.Spinner,null)):(0,r.createElement)("table",null,(0,r.createElement)("thead",null,(0,r.createElement)("tr",null,(0,r.createElement)("th",null," "),(0,r.createElement)("th",null," "),(0,r.createElement)("th",null,"Your Answer"),(0,r.createElement)("th",null,"Correct Answer(s)"))),(0,r.createElement)("tbody",null,e.map(((e,c)=>{const s=e.answers.filter((e=>e.correct)),i=Math.random()>=.5;return(0,r.createElement)("tr",{key:c,className:g(t,c),onClick:t=>{t.preventDefault(),l&&t.shiftKey&&(n(e.clientId,!0),o(e.clientId))}},(0,r.createElement)("td",{className:"wp-block-prc-quiz-result-table__row__icon"},i&&(0,r.createElement)("span",{className:"has-ui-success"},(0,r.createElement)(w.Icon,{icon:"check"})),!i&&(0,r.createElement)("span",{className:"has-ui-error"},(0,r.createElement)(w.Icon,{icon:"xmark"}))),(0,r.createElement)("td",null,(0,r.createElement)(a.RawHTML,null,e.question)),(0,r.createElement)("td",null,(0,u.__)("N/A","prc-quiz")),(0,r.createElement)("td",null,(0,r.createElement)(a.RawHTML,null,s.map((e=>e.resultsLabel?e.resultsLabel:e.answer)).join(", "))))}))))}const b=(e,t,l=null)=>{const o=(t+1)%2==0;let r=l;null===r&&(r=Math.random()>=.5);const{rowBackgroundColor:n,altRowBackgroundColor:a,rowTextColor:s,altRowTextColor:u}=e,i=o?a:n,m=o?u:s;return d()("wp-block-prc-quiz-result-table__row",{"has-text-color":!!m.color||!!m?.class,[(0,c.getColorClassName)("color",m?.slug)]:!!m?.slug,"has-background":!!i.color||i.class,[(0,c.getColorClassName)("background-color",i?.slug)]:!!i?.slug,"is-correct":r,"is-incorrect":!r})};function E({questions:e,colors:t,demoBreakLabels:l,isSelected:o}){const{selectBlock:n,toggleBlockHighlight:c}=(0,p.useDispatch)("core/block-editor");return void 0===e||0===e.length?(0,r.createElement)("div",null,(0,r.createElement)("p",null,"Constructing table... "),(0,r.createElement)(s.Spinner,null)):(0,r.createElement)("table",null,(0,r.createElement)("thead",null,(0,r.createElement)("tr",null,(0,r.createElement)("th",null," "),(0,r.createElement)("th",null," "),l.map(((e,t)=>(0,r.createElement)("th",{key:t},e))))),(0,r.createElement)("tbody",null,e.map(((e,l)=>{const s=e.answers.filter((e=>e.correct)),u=Math.random()>=.5,{demoBreakValues:i}=e;return(0,r.createElement)("tr",{key:l,className:b(t,l),onClick:t=>{t.preventDefault(),o&&t.shiftKey&&(c(e.clientId,!0),n(e.clientId))}},(0,r.createElement)("td",{className:"wp-block-prc-quiz-result-table__row__icon"},u&&(0,r.createElement)("span",{className:"has-ui-success"},(0,r.createElement)(w.Icon,{icon:"check"})),!u&&(0,r.createElement)("span",{className:"has-ui-error"},(0,r.createElement)(w.Icon,{icon:"xmark"}))),(0,r.createElement)("td",null,(0,r.createElement)("span",null,(0,r.createElement)(a.RawHTML,null,e.question)),(0,r.createElement)("div",null,(0,r.createElement)("span",null,"You answered:"),(0,r.createElement)("br",null),(0,r.createElement)("span",null,(0,r.createElement)("strong",null,"N/A"))),(0,r.createElement)("div",null,(0,r.createElement)("span",null,"Correct answer:"),(0,r.createElement)("br",null),(0,r.createElement)("strong",null,s.map((e=>e.resultsLabel?e.resultsLabel:e.answer)).join(", ")))),i.map(((e,t)=>(0,r.createElement)("td",{key:t},e))))}))))}const k=(0,c.withColors)({rowBackgroundColor:"color"},{altRowBackgroundColor:"color"},{rowTextColor:"color"},{altRowTextColor:"color"})((function({attributes:e,setAttributes:t,context:l,clientId:o,isSelected:u,rowBackgroundColor:m,setRowBackgroundColor:d,altRowBackgroundColor:p,setAltRowBackgroundColor:w,rowTextColor:g,setRowTextColor:b,altRowTextColor:k,setAltRowTextColor:h}){const _=(0,c.useBlockProps)(),{data:x,loading:f}=(0,n.useQuizDataModel)(o),{questions:v,demoBreakLabels:R}=x;console.log("demoBreakLabelsComputed",x,v,R);const B={rowBackgroundColor:m,setRowBackgroundColor:d,altRowBackgroundColor:p,setAltRowBackgroundColor:w,rowTextColor:g,setRowTextColor:b,altRowTextColor:k,setAltRowTextColor:h};return(0,r.createElement)(a.Fragment,null,(0,r.createElement)(i,{colors:B}),(0,r.createElement)("div",{..._},f&&(0,r.createElement)("div",null,(0,r.createElement)("p",null,"Loading data... "),(0,r.createElement)(s.Spinner,null)),!f&&0>=R?.length&&(0,r.createElement)(C,{questions:v,colors:B,isSelected:u}),!f&&0<R?.length&&(0,r.createElement)(E,{questions:v,colors:B,demoBreakLabels:R,isSelected:u}),(0,r.createElement)("p",{className:"wp-block-prc-quiz-result-table__instructions"},"The answers here are randomized for preview purposes only.")))})),h=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-quiz/result-table","version":"1.0.0","title":"Result Table","category":"prc-quiz","keywords":["table","results","results table","quiz table"],"attributes":{"rowBackgroundColor":{"type":"string"},"altRowBackgroundColor":{"type":"string"},"rowTextColor":{"type":"string"},"altRowTextColor":{"type":"string"}},"supports":{"anchor":true,"html":false,"align":["wide","full"],"spacing":{"margin":["top","bottom"],"padding":true},"typography":{"fontSize":true,"lineHeight":true,"__experimentalFontFamily":true,"__experimentalTextDecoration":true,"__experimentalFontStyle":true,"__experimentalFontWeight":true,"__experimentalLetterSpacing":true,"__experimentalTextTransform":true,"__experimentalDefaultControls":{"fontSize":true}}},"parent":["prc-quiz/results"],"usesContext":["prc-quiz/results/score","prc-quiz/results/submissionData"],"textdomain":"result-table","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css"}'),{name:_}=h,x={icon:function(){return(0,r.createElement)(w.Icon,{icon:"table-pivot",library:"solid"})},edit:k};(0,o.registerBlockType)(_,{...h,...x})}},l={};function o(e){var r=l[e];if(void 0!==r)return r.exports;var n=l[e]={exports:{}};return t[e](n,n.exports,o),n.exports}o.m=t,e=[],o.O=(t,l,r,n)=>{if(!l){var a=1/0;for(i=0;i<e.length;i++){for(var[l,r,n]=e[i],c=!0,s=0;s<l.length;s++)(!1&n||a>=n)&&Object.keys(o.O).every((e=>o.O[e](l[s])))?l.splice(s--,1):(c=!1,n<a&&(a=n));if(c){e.splice(i--,1);var u=r();void 0!==u&&(t=u)}}return t}n=n||0;for(var i=e.length;i>0&&e[i-1][2]>n;i--)e[i]=e[i-1];e[i]=[l,r,n]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var l in t)o.o(t,l)&&!o.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};o.O.j=t=>0===e[t];var t=(t,l)=>{var r,n,[a,c,s]=l,u=0;if(a.some((t=>0!==e[t]))){for(r in c)o.o(c,r)&&(o.m[r]=c[r]);if(s)var i=s(o)}for(t&&t(l);u<a.length;u++)n=a[u],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(i)},l=globalThis.webpackChunkresult_table=globalThis.webpackChunkresult_table||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var r=o.O(void 0,[350],(()=>o(499)));r=o.O(r)})();
//# sourceMappingURL=index.js.map