{"version":3,"file":"view.js","mappings":"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","sources":["webpack://result-histogram/webpack/bootstrap","webpack://result-histogram/webpack/runtime/compat get default export","webpack://result-histogram/webpack/runtime/define property getters","webpack://result-histogram/webpack/runtime/hasOwnProperty shorthand","webpack://result-histogram/external window \"React\"","webpack://result-histogram/external window [\"wp\",\"element\"]","webpack://result-histogram/external window [\"wp\",\"domReady\"]","webpack://result-histogram/external window \"prcChartBuilder\"","webpack://result-histogram/./src/Histogram.jsx","webpack://result-histogram/./src/view.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"React\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"domReady\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"prcChartBuilder\"];","/* eslint-disable max-lines-per-function */\n/**\n * External Dependencies\n */\nimport { ChartBuilderWrapper, baseConfig } from '@prc/chart-builder';\n\n/**\n * WordPress Dependencies\n */\nimport { useEffect, useState } from '@wordpress/element';\n\n// const fallbackData = [\n// \t{\n// \t\tx: '0',\n// \t\ty: 20,\n// \t},\n// \t{\n// \t\tx: '1',\n// \t\ty: 30,\n// \t},\n// \t{\n// \t\tx: '2',\n// \t\ty: 30,\n// \t},\n// ];\n\nfunction Histogram({\n\thistogramData,\n\twidth,\n\theight,\n\tbarWidth,\n\tbarLabelPosition,\n\tbarLabelCutoff,\n\tbarColor,\n\tisHighlightedColor,\n\tyAxisDomain,\n\txAxisLabel,\n}) {\n\tconst [chartData, setChartData] = useState([]);\n\tconst config = {\n\t\t...baseConfig,\n\t\tlayout: {\n\t\t\t...baseConfig.layout,\n\t\t\ttype: 'bar',\n\t\t\torientation: 'vertical',\n\t\t\ttheme: 'light',\n\t\t\tparentClass: 'wp-block-prc-quiz-result-histogram',\n\t\t\twidth,\n\t\t\theight,\n\t\t\tpadding: {\n\t\t\t\ttop: 0,\n\t\t\t\tbottom: 70,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t},\n\t\t\thorizontalRules: false,\n\t\t},\n\t\tmetadata: {\n\t\t\t...baseConfig.metadata,\n\t\t\tactive: false,\n\t\t},\n\t\tcolors: [barColor],\n\n\t\tindependentAxis: {\n\t\t\t...baseConfig.independentAxis,\n\t\t\tactive: true,\n\t\t\tdomain: undefined,\n\t\t\tscale: 'linear',\n\t\t\tdomainPadding: 50,\n\t\t\toffsetY: null,\n\t\t\tlabel: xAxisLabel,\n\t\t\tpadding: 50,\n\t\t\ttickCount: 20,\n\t\t\tmultiLineTickLabels: false,\n\t\t\tmultiLineTickLabelsBreak: 1,\n\t\t\tabbreviateTicks: false,\n\t\t\tabbreviateTicksDecimals: 0,\n\t\t\ttickUnit: '',\n\t\t\ttickUnitPosition: 'end',\n\t\t\tcustomTickFormat: null,\n\t\t\ttickLabels: {\n\t\t\t\t...baseConfig.independentAxis.tickLabels,\n\t\t\t\tfontSize: 12,\n\t\t\t\tpadding: 5,\n\t\t\t\tangle: 0,\n\t\t\t\tdx: 0,\n\t\t\t\tdy: 0,\n\t\t\t\ttextAnchor: 'middle',\n\t\t\t\tverticalAnchor: 'middle',\n\t\t\t},\n\t\t\taxisLabel: {\n\t\t\t\t...baseConfig.independentAxis.axisLabel,\n\t\t\t\tfontSize: 12,\n\t\t\t\tpadding: 20,\n\t\t\t\tfill: 'rgba(35, 31, 32,0.7)',\n\t\t\t\tverticalAnchor: 'middle',\n\t\t\t\ttextAnchor: 'middle',\n\t\t\t\tmaxWidth: 500,\n\t\t\t},\n\t\t\taxis: {\n\t\t\t\t...baseConfig.independentAxis.axis,\n\t\t\t\tstroke: '#756f6b00',\n\t\t\t},\n\t\t\tticks: {\n\t\t\t\t...baseConfig.independentAxis.ticks,\n\t\t\t\tstroke: 'gray',\n\t\t\t\tsize: 5,\n\t\t\t\tstrokeWidth: 0,\n\t\t\t},\n\t\t\tgrid: {\n\t\t\t\t...baseConfig.independentAxis.grid,\n\t\t\t\tstroke: '',\n\t\t\t},\n\t\t},\n\t\tdependentAxis: {\n\t\t\t...baseConfig.dependentAxis,\n\t\t\tactive: false,\n\t\t\tscale: 'linear',\n\t\t\tpadding: 20,\n\t\t\tdomain: [0, yAxisDomain],\n\t\t\tdomainPadding: 20,\n\t\t\tshowZero: false,\n\t\t\ttickCount: 5,\n\t\t\ttickValues: null,\n\t\t\ttickFormat: null,\n\t\t\tmultiLineTickLabels: false,\n\t\t\tmultiLineTickLabelsBreak: 1,\n\t\t\tabbreviateTicks: false,\n\t\t\tabbreviateTicksDecimals: 0,\n\t\t\ttickUnit: '',\n\t\t\ttickUnitPosition: 'end',\n\t\t\ttickLabels: {\n\t\t\t\t...baseConfig.dependentAxis.tickLabels,\n\t\t\t\tfontSize: 12,\n\t\t\t\tpadding: 15,\n\t\t\t\tangle: 0,\n\t\t\t\tdx: 0,\n\t\t\t\tdy: 0,\n\t\t\t\ttextAnchor: 'middle',\n\t\t\t\tverticalAnchor: 'start',\n\t\t\t},\n\t\t\taxisLabel: {\n\t\t\t\t...baseConfig.dependentAxis.axisLabel,\n\t\t\t\tfontSize: 12,\n\t\t\t\tpadding: 30,\n\t\t\t\tfill: 'rgba(35, 31, 32,0.7)',\n\t\t\t},\n\t\t\tticks: {\n\t\t\t\t...baseConfig.dependentAxis.ticks,\n\t\t\t\tstroke: 'gray',\n\t\t\t\tsize: 5,\n\t\t\t\tstrokeWidth: 0,\n\t\t\t},\n\t\t\taxis: {\n\t\t\t\t...baseConfig.dependentAxis.axis,\n\t\t\t\tstroke: '#756f6a',\n\t\t\t},\n\t\t\tgrid: {\n\t\t\t\t...baseConfig.dependentAxis.grid,\n\t\t\t\tstroke: '',\n\t\t\t},\n\t\t\tdateFormat: 'yyyy',\n\t\t},\n\t\tdataRender: {\n\t\t\t...baseConfig.dataRender,\n\t\t\tx: 'x',\n\t\t\ty: 'y',\n\t\t\tx2: null,\n\t\t\ty2: null,\n\t\t\tsortKey: 'x',\n\t\t\tsortOrder: 'none',\n\t\t\tcategories: ['y'],\n\t\t\txScale: 'linear',\n\t\t\tyScale: 'linear',\n\t\t\txFormat: 'yyyy',\n\t\t\tyFormat: 'yyyy',\n\t\t\tisHighlightedColor,\n\t\t\t// isHighlightedColor: '#ECDBAC',\n\t\t},\n\t\tanimate: {\n\t\t\tactive: false,\n\t\t\tduration: 500,\n\t\t},\n\t\ttooltip: {\n\t\t\t...baseConfig.tooltip,\n\t\t\tactive: false,\n\t\t},\n\t\tlegend: {\n\t\t\t...baseConfig.legend,\n\t\t\tactive: false,\n\t\t},\n\t\tlabels: {\n\t\t\t...baseConfig.labels,\n\t\t\tactive: true,\n\t\t\tshowFirstLastPointsOnly: false,\n\t\t\tcolor: 'black',\n\t\t\tfontWeight: 500,\n\t\t\tfontSize: 12,\n\t\t\tlabelBarPosition: 'inside',\n\t\t\tlabelCutoff: barLabelCutoff,\n\t\t\tlabelCutoffMobile: barLabelCutoff,\n\t\t\tlabelPositionDX: 0,\n\t\t\tlabelPositionDY: barLabelPosition,\n\t\t\tpieLabelRadius: 60,\n\t\t\tabbreviateValue: false,\n\t\t\ttoFixedDecimal: 0,\n\t\t\tlabelUnit: '%',\n\t\t\tlabelUnitPosition: 'end',\n\t\t\tcustomLabelFormat(d) {\n\t\t\t\treturn 1 < d ? `${d}%` : `<1%`;\n\t\t\t},\n\t\t},\n\t};\n\n\tuseEffect(() => {\n\t\tif (histogramData) {\n\t\t\tconst parsed = JSON.parse(histogramData);\n\t\t\tconsole.log('Chart Data Parsed =', parsed);\n\t\t\tconst normalized = parsed.map((d) => ({\n\t\t\t\tx: `${d.x} `,\n\t\t\t\ty: parseFloat(d.y),\n\t\t\t\t__isHighlighted: {\n\t\t\t\t\ty: d.isHighlighted ? d.isHighlighted : false,\n\t\t\t\t},\n\t\t\t}));\n\t\t\tconsole.log('Chart Data Normalized =', normalized);\n\t\t\tsetChartData([normalized]);\n\t\t}\n\t}, [histogramData]);\n\n\treturn <ChartBuilderWrapper config={config} data={chartData} />;\n}\n\nexport default Histogram;\n","/**\n * WordPress dependencies\n */\nimport { render } from '@wordpress/element';\nimport domReady from '@wordpress/dom-ready';\n\nimport Histogram from './Histogram';\n\ndomReady(() => {\n\tif (document.querySelector('.wp-block-prc-quiz-result-histogram')) {\n\t\tconst bars = document.querySelectorAll(\n\t\t\t'.wp-block-prc-quiz-result-histogram'\n\t\t);\n\t\tbars.forEach((bar) => {\n\t\t\tconst barChart = bar.querySelector('#bar-chart');\n\t\t\tconst attrs = bar.dataset;\n\t\t\tconsole.log({ attrs });\n\t\t\tconst props = {\n\t\t\t\thistogramData: attrs.histogramData,\n\t\t\t\twidth: parseFloat(attrs.width),\n\t\t\t\theight: parseFloat(attrs.height),\n\t\t\t\tbarWidth: parseFloat(attrs.barWidth),\n\t\t\t\tbarLabelPosition: parseFloat(attrs.barLabelPosition),\n\t\t\t\tbarColor: attrs.barColor,\n\t\t\t\tisHighlightedColor: attrs.highlightedColor,\n\t\t\t\tyAxisDomain: parseFloat(attrs.yAxisDomain),\n\t\t\t\txAxisLabel: attrs.xAxisLabel,\n\t\t\t\tbarLabelCutoff: parseFloat(attrs.barLabelCutoff),\n\t\t\t};\n\t\t\tconsole.log({ props });\n\t\t\trender(<Histogram {...props} />, barChart);\n\t\t});\n\t}\n});\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","window","histogramData","width","height","barWidth","barLabelPosition","barLabelCutoff","barColor","isHighlightedColor","yAxisDomain","xAxisLabel","chartData","setChartData","useState","config","baseConfig","layout","type","orientation","theme","parentClass","padding","top","bottom","left","right","horizontalRules","metadata","active","colors","independentAxis","domain","undefined","scale","domainPadding","offsetY","label","tickCount","multiLineTickLabels","multiLineTickLabelsBreak","abbreviateTicks","abbreviateTicksDecimals","tickUnit","tickUnitPosition","customTickFormat","tickLabels","fontSize","angle","dx","dy","textAnchor","verticalAnchor","axisLabel","fill","maxWidth","axis","stroke","ticks","size","strokeWidth","grid","dependentAxis","showZero","tickValues","tickFormat","dateFormat","dataRender","x","y","x2","y2","sortKey","sortOrder","categories","xScale","yScale","xFormat","yFormat","animate","duration","tooltip","legend","labels","showFirstLastPointsOnly","color","fontWeight","labelBarPosition","labelCutoff","labelCutoffMobile","labelPositionDX","labelPositionDY","pieLabelRadius","abbreviateValue","toFixedDecimal","labelUnit","labelUnitPosition","customLabelFormat","useEffect","parsed","JSON","parse","console","log","normalized","map","parseFloat","__isHighlighted","isHighlighted","createElement","ChartBuilderWrapper","data","domReady","document","querySelector","querySelectorAll","forEach","bar","barChart","attrs","dataset","props","highlightedColor","render","Histogram"],"sourceRoot":""}