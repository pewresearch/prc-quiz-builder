(()=>{"use strict";var e,o={693:(e,o,r)=>{const t=window.wp.blocks,l=window.prcQuizSharedComponents,s=window.wp.element,n=window.wp.blockEditor,c=window.wp.components,a=window.wp.i18n,i=window.ReactJSXRuntime;function d({colors:e}){const{rowBackgroundColor:o,setRowBackgroundColor:r,altRowBackgroundColor:t,setAltRowBackgroundColor:l,rowTextColor:s,setRowTextColor:c,altRowTextColor:d,setAltRowTextColor:u}=e;return(0,i.jsx)(n.InspectorControls,{group:"styles",children:(0,i.jsx)(n.PanelColorSettings,{__experimentalHasMultipleOrigins:!0,__experimentalIsRenderedInSidebar:!0,title:(0,a.__)("Colors"),disableCustomColors:!0,colorSettings:[{value:o.color,onChange:r,label:(0,a.__)("Row Background")},{value:s.color,onChange:c,label:(0,a.__)("Row Text")},{value:t.color,onChange:l,label:(0,a.__)("Alt Row Background")},{value:d.color,onChange:u,label:(0,a.__)("Alt Row Text")}]})})}const u=window.classnames;var h=r.n(u);const x=window.wp.data,p=window.prcIcons,w=(e,o,r=null)=>{const t=(o+1)%2==0;let l=r;null===l&&(l=Math.random()>=.5);const{rowBackgroundColor:s,altRowBackgroundColor:c,rowTextColor:a,altRowTextColor:i}=e,d=t?c:s,u=t?i:a;return h()("prc-quiz-result-table__row",{"has-text-color":!!u.color||!!u?.class,[(0,n.getColorClassName)("color",u?.slug)]:!!u?.slug,"has-background":!!d.color||d.class,[(0,n.getColorClassName)("background-color",d?.slug)]:!!d?.slug,"is-correct":l,"is-incorrect":!l})};function g({questions:e,colors:o,isSelected:r}){const{selectBlock:t,toggleBlockHighlight:l}=(0,x.useDispatch)("core/block-editor");return void 0===e||0===e.length?(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:"Constructing table... "}),(0,i.jsx)(c.Spinner,{})]}):(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:" "}),(0,i.jsx)("th",{children:" "}),(0,i.jsx)("th",{children:"Your Answer"}),(0,i.jsx)("th",{children:"Correct Answer(s)"})]})}),(0,i.jsx)("tbody",{children:e.map((e,n)=>{const c=e.answers.filter(e=>e.correct),d=Math.random()>=.5;return(0,i.jsxs)("tr",{className:w(o,n),onClick:o=>{o.preventDefault(),r&&o.shiftKey&&(l(e.clientId,!0),t(e.clientId))},children:[(0,i.jsxs)("td",{className:"wp-block-prc-quiz-result-table__row__icon",children:[d&&(0,i.jsx)("span",{className:"has-ui-success",children:(0,i.jsx)(p.Icon,{icon:"check"})}),!d&&(0,i.jsx)("span",{className:"has-ui-error",children:(0,i.jsx)(p.Icon,{icon:"xmark"})})]}),(0,i.jsx)("td",{children:(0,i.jsx)(s.RawHTML,{children:e.question})}),(0,i.jsx)("td",{children:(0,a.__)("N/A","prc-quiz")}),(0,i.jsx)("td",{children:(0,i.jsx)(s.RawHTML,{children:c.map(e=>e.resultsLabel?e.resultsLabel:e.answer).join(", ")})})]},n)})})]})}const j=(e,o,r=null)=>{const t=(o+1)%2==0;let l=r;null===l&&(l=Math.random()>=.5);const{rowBackgroundColor:s,altRowBackgroundColor:c,rowTextColor:a,altRowTextColor:i}=e,d=t?c:s,u=t?i:a;return h()("prc-quiz-result-table__row",{"has-text-color":!!u.color||!!u?.class,[(0,n.getColorClassName)("color",u?.slug)]:!!u?.slug,"has-background":!!d.color||d.class,[(0,n.getColorClassName)("background-color",d?.slug)]:!!d?.slug,"is-correct":l,"is-incorrect":!l})};function C({questions:e,colors:o,demoBreakLabels:r,isSelected:t}){const{selectBlock:l,toggleBlockHighlight:n}=(0,x.useDispatch)("core/block-editor");return void 0===e||0===e.length?(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:"Constructing table... "}),(0,i.jsx)(c.Spinner,{})]}):(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:" "}),(0,i.jsx)("th",{children:" "}),r.map((e,o)=>(0,i.jsx)("th",{children:e},o))]})}),(0,i.jsx)("tbody",{children:e.map((e,r)=>{const c=e.answers.filter(e=>e.correct),a=Math.random()>=.5,{demoBreakValues:d}=e;return(0,i.jsxs)("tr",{className:j(o,r),onClick:o=>{o.preventDefault(),t&&o.shiftKey&&(n(e.clientId,!0),l(e.clientId))},children:[(0,i.jsxs)("td",{className:"wp-block-prc-quiz-result-table__row__icon",children:[a&&(0,i.jsx)("span",{className:"has-ui-success",children:(0,i.jsx)(p.Icon,{icon:"check"})}),!a&&(0,i.jsx)("span",{className:"has-ui-error",children:(0,i.jsx)(p.Icon,{icon:"xmark"})})]}),(0,i.jsxs)("td",{children:[(0,i.jsx)("span",{children:(0,i.jsx)(s.RawHTML,{children:e.question})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{children:"You answered:"}),(0,i.jsx)("br",{}),(0,i.jsx)("span",{children:(0,i.jsx)("strong",{children:"N/A"})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{children:"Correct answer:"}),(0,i.jsx)("br",{}),(0,i.jsx)("strong",{children:c.map(e=>e.resultsLabel?e.resultsLabel:e.answer).join(", ")})]})]}),d.map((e,o)=>(0,i.jsx)("td",{children:e},o))]},r)})})]})}const b=(0,n.withColors)({rowBackgroundColor:"color"},{altRowBackgroundColor:"color"},{rowTextColor:"color"},{altRowTextColor:"color"})(function({attributes:e,setAttributes:o,context:r,clientId:t,isSelected:s,rowBackgroundColor:a,setRowBackgroundColor:u,altRowBackgroundColor:h,setAltRowBackgroundColor:x,rowTextColor:p,setRowTextColor:w,altRowTextColor:j,setAltRowTextColor:b}){const m=(0,n.useBlockProps)(),{data:k,loading:_}=(0,l.useQuizDataModel)(t),{questions:v,demoBreakLabels:R}=k;console.log("Results Table::",k);const f={rowBackgroundColor:a,setRowBackgroundColor:u,altRowBackgroundColor:h,setAltRowBackgroundColor:x,rowTextColor:p,setRowTextColor:w,altRowTextColor:j,setAltRowTextColor:b};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d,{colors:f}),(0,i.jsxs)("div",{...m,children:[_&&(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:"Loading data... "}),(0,i.jsx)(c.Spinner,{})]}),!_&&0>=R?.length&&(0,i.jsx)(g,{questions:v,colors:f,isSelected:s}),!_&&0<R?.length&&(0,i.jsx)(C,{questions:v,colors:f,demoBreakLabels:R,isSelected:s}),(0,i.jsx)("p",{className:"wp-block-prc-quiz-result-table__instructions",children:"The answers here are randomized for preview purposes only."})]})]})}),m=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-quiz/result-table","version":"4.0.1","title":"Result Table","category":"quiz","keywords":["table","results","results table","quiz table"],"attributes":{"rowBackgroundColor":{"type":"string"},"altRowBackgroundColor":{"type":"string"},"rowTextColor":{"type":"string"},"altRowTextColor":{"type":"string"}},"supports":{"anchor":true,"html":false,"interactivity":true,"align":["wide","full"],"spacing":{"margin":["top","bottom"],"padding":true},"typography":{"fontSize":true,"lineHeight":true,"__experimentalFontFamily":true,"__experimentalTextDecoration":true,"__experimentalFontStyle":true,"__experimentalFontWeight":true,"__experimentalLetterSpacing":true,"__experimentalTextTransform":true,"__experimentalDefaultControls":{"fontSize":true}}},"parent":["prc-quiz/results"],"usesContext":["prc-quiz/demo-break-labels"],"textdomain":"result-table","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","viewScriptModule":"file:./view.js"}'),{name:k}=m,_={icon:function(){return(0,i.jsx)(p.Icon,{icon:"table-pivot",library:"solid"})},edit:b};(0,t.registerBlockType)(k,{...m,..._})}},r={};function t(e){var l=r[e];if(void 0!==l)return l.exports;var s=r[e]={exports:{}};return o[e](s,s.exports,t),s.exports}t.m=o,e=[],t.O=(o,r,l,s)=>{if(!r){var n=1/0;for(d=0;d<e.length;d++){for(var[r,l,s]=e[d],c=!0,a=0;a<r.length;a++)(!1&s||n>=s)&&Object.keys(t.O).every(e=>t.O[e](r[a]))?r.splice(a--,1):(c=!1,s<n&&(n=s));if(c){e.splice(d--,1);var i=l();void 0!==i&&(o=i)}}return o}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[r,l,s]},t.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return t.d(o,{a:o}),o},t.d=(e,o)=>{for(var r in o)t.o(o,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={326:0,530:0};t.O.j=o=>0===e[o];var o=(o,r)=>{var l,s,[n,c,a]=r,i=0;if(n.some(o=>0!==e[o])){for(l in c)t.o(c,l)&&(t.m[l]=c[l]);if(a)var d=a(t)}for(o&&o(r);i<n.length;i++)s=n[i],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(d)},r=globalThis.webpackChunk_prc_quiz_builder=globalThis.webpackChunk_prc_quiz_builder||[];r.forEach(o.bind(null,0)),r.push=o.bind(null,r.push.bind(r))})();var l=t.O(void 0,[530],()=>t(693));l=t.O(l)})();
//# sourceMappingURL=index.js.map