(()=>{"use strict";var e,t={9777:(e,t,o)=>{const r=window.wp.blocks,n=window.classnames;var i=o.n(n);const s=window.wp.i18n,c=window.wp.element,a=window.wp.blockEditor,u=window.wp.data,l=window.prcQuizSharedComponents,p=window.wp.components,d=window.ReactJSXRuntime;function g({attributes:e,context:t,clientId:o,children:n}){const{insertBlock:i}=(0,u.useDispatch)(a.store),{pagesClientId:s,nextBlockIndex:c}=(0,u.useSelect)((e=>{const{getBlockRootClientId:t,getBlockIndex:r,getBlockName:n}=e(a.store),i=n(o);let s=o;if("prc-quiz/question"===i&&(s=t(o)),"prc-quiz/answer"===i){const e=t(o);s=t(e)}return{pagesClientId:t(s),nextBlockIndex:r(s)+1}}),[]);return(0,d.jsx)(p.KeyboardShortcuts,{shortcuts:{"mod+d":(e,t)=>{e.preventDefault(),console.log("new page shortcut...",e,t,o);const n=(0,r.createBlock)("prc-quiz/page",{},[]);i(n,c,s)}},bindGlobal:!0,children:n},"new-page-shortcut")}function b({quizType:e="quiz",groupsEnabled:t=!1}){return"typology"!==e||!0!==t?null:(0,d.jsxs)("div",{className:"prc-quiz__form__group-creation",children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Want to see how your classroom or community compares to the general public?"})," ","Create a group quiz. You’ll receive a unique link to share with members of your group. As they complete the quiz, you can view the group’s results (no individual results are provided). See our"," ",(0,d.jsx)("a",{href:"https://www.pewresearch.org/typology-group-quiz-help-center/",target:"_blank",rel:"noreferrer",children:"Group Quiz FAQ"})," ","for more information."]}),(0,d.jsx)("button",{className:"prc-quiz__button__group-creation",type:"button",children:"Log In To Create A Group Quiz"})]})}function h({quizType:e="quiz",groupsEnabled:t=!1,onNext:o=()=>{},onPrevious:r=()=>{},onReset:n=()=>{},isLastPage:a=!1,isFirstPage:u=!1,canSubmit:l=!1,canReset:p=!1}){const g=(0,s.__)("Submit","prc-quiz"),h=(0,s.__)("Next >","prc-quiz"),m=(0,s.__)("< Go Back to Previous Question","prc-quiz"),q=(0,s.__)("Reset","prc-quiz"),x=(0,s.__)("Start Quiz","prc-quiz"),y=a?g:h;return(0,d.jsxs)("div",{className:i()("quiz-actions-wrapper",{"is-first-page":u}),children:[!u&&(0,d.jsxs)(c.Fragment,{children:[(0,d.jsx)("button",{type:"button",className:i()("quiz-button","quiz-next-button",{"is-disabled":a&&!l}),onClick:o,children:y}),(0,d.jsx)("button",{type:"button",className:"quiz-previous-button",onClick:r,children:m}),p&&(0,d.jsx)("button",{type:"button",className:"quiz-reset-button",onClick:n,children:q})]}),u&&(0,d.jsxs)(c.Fragment,{children:[(0,d.jsx)("button",{type:"button",className:"quiz-button quiz-start-button",onClick:o,children:x}),(0,d.jsx)(b,{quizType:e,groupsEnabled:t})]})]})}const m=[["prc-quiz/question",{}]],q=["prc-quiz/question","core/image","core/paragraph","core/heading","core/table"],x=["core/image","core/paragraph","core/cover","core/group","core/heading","core/table","core/post-title","prc-block/bylines-display","prc-block/bylines-query","prc-block/related-query"],y=window.prcIcons,z=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-quiz/page","version":"1.0.0","title":"Page","description":"A page contains at least one question but may contain more. You can add aditional multimedia options here such as images, videos, or charts.","category":"prc-quiz","attributes":{"allowedBlocks":{"type":"array"},"introductionPage":{"type":"boolean","default":false},"introductionNote":{"type":"string"},"title":{"type":"string"},"uuid":{"type":"string"}},"supports":{"anchor":true,"html":false,"color":{"background":true,"text":true,"link":true},"spacing":{"blockGap":true,"margin":["top","bottom"],"padding":true},"typography":{"fontSize":true,"__experimentalFontFamily":true}},"parent":["prc-quiz/pages"],"usesContext":["prc-quiz/groupsEnabled","prc-quiz/type","prc-quiz/note"],"textdomain":"page","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","render":"file:./render.php"}'),{name:f}=z,w={icon:function(){return(0,d.jsx)(y.Icon,{icon:"file-lines"})},__experimentalLabel:({title:e})=>e||"Page",edit:function({attributes:e,setAttributes:t,className:o,context:r,clientId:n,isSelected:p}){const{title:b,uuid:y,introductionPage:z,introductionNote:f}=e,w=r["prc-quiz/groupsEnabled"]||!1,k=r["prc-quiz/type"]||"quiz",v=(0,a.useBlockProps)({className:i()(o,{introduction:z})}),_=(0,a.useInnerBlocksProps)({className:"wp-block-prc-quiz-page__innerblocks"},{allowedBlocks:z?x:q,orientation:"vertical",templateLock:!1,template:m}),{pageIndex:j}=(0,u.useSelect)((e=>{const t=e(a.store).getBlockRootClientId(n);return{pageIndex:e(a.store).getBlockIndex(n,t)+1}}));return(0,c.useEffect)((()=>{(0,l.onBlockCreation)(n,y,t),b||t({title:(0,s.sprintf)("Question %1$d of X",j-1)})}),[]),(0,d.jsxs)("div",{...v,children:[(0,d.jsxs)(g,{clientId:n,children:[(0,d.jsx)(a.RichText,{tagName:"h3",value:b,className:"page-title",onChange:e=>t({title:e}),placeholder:(0,s.__)("Question 1 of …","prc-quiz"),multiline:!1}),(0,d.jsx)("div",{..._})]}),(0,d.jsx)(h,{isFirstPage:z,quizType:k,groupsEnabled:w}),z&&(0,d.jsx)(a.RichText,{className:"introduction--note",value:f,onChange:e=>t({introductionNote:e}),placeholder:"Add a note to your quiz"})]})},save:function({attributes:e}){return(0,d.jsx)(a.InnerBlocks.Content,{})}};(0,r.registerBlockType)(f,{...z,...w})}},o={};function r(e){var n=o[e];if(void 0!==n)return n.exports;var i=o[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,o,n,i)=>{if(!o){var s=1/0;for(l=0;l<e.length;l++){o=e[l][0],n=e[l][1],i=e[l][2];for(var c=!0,a=0;a<o.length;a++)(!1&i||s>=i)&&Object.keys(r.O).every((e=>r.O[e](o[a])))?o.splice(a--,1):(c=!1,i<s&&(s=i));if(c){e.splice(l--,1);var u=n();void 0!==u&&(t=u)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[o,n,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={235:0,483:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var n,i,s=o[0],c=o[1],a=o[2],u=0;if(s.some((t=>0!==e[t]))){for(n in c)r.o(c,n)&&(r.m[n]=c[n]);if(a)var l=a(r)}for(t&&t(o);u<s.length;u++)i=s[u],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(l)},o=self.webpackChunk_prc_quiz=self.webpackChunk_prc_quiz||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var n=r.O(void 0,[483],(()=>r(9777)));n=r.O(n)})();
//# sourceMappingURL=index.js.map